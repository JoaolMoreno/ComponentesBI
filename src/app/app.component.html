<div class="container">
  <div class="filters">
    <div class="filter-group">
      <label for="filtroCategoria">Categoria:</label>
      <select id="filtroCategoria" [(ngModel)]="categoriaSelecionada" (change)="onCategoriaChange()">
        <option value="">Todas</option>
        <option *ngFor="let categoria of categoriasUnicas" [value]="categoria">{{ categoria }}</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="filtroRegiao">Região:</label>
      <select id="filtroRegiao" [(ngModel)]="regiaoSelecionada" (change)="onRegiaoChange()">
        <option value="">Todas</option>
        <option *ngFor="let regiao of regioesUnicas" [value]="regiao">{{ regiao }}</option>
      </select>
    </div>
  </div>

  <div class="dimensions">
    <div class="dimension-group">
      <h3>Dimensões - Linhas</h3>
      <div *ngFor="let dimensao of dimensoes">
        <input type="checkbox" [checked]="linhasSelecionadas.includes(dimensao)" (change)="toggleDimensao(dimensao, 'linha')">
        <label>{{ dimensao }}</label>
      </div>
    </div>

    <div class="dimension-group">
      <h3>Dimensões - Colunas</h3>
      <div *ngFor="let dimensao of dimensoes">
        <input type="checkbox" [checked]="colunasSelecionadas.includes(dimensao)" (change)="toggleDimensao(dimensao, 'coluna')">
        <label>{{ dimensao }}</label>
      </div>
    </div>
  </div>

  <div class="measures">
    <h3>Medidas</h3>
    <div *ngFor="let medida of medidas">
      <input type="checkbox" [checked]="medidasSelecionadas.includes(medida)" (change)="toggleMedida(medida)">
      <label>{{ medida.nome }}</label>
    </div>
  </div>
</div>

<app-pivot-table
  [dados]="dadosFiltrados"
  [linhas]="linhasSelecionadas"
  [colunas]="colunasSelecionadas"
  [medidas]="medidasSelecionadas">
</app-pivot-table>
